!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n),t.d(n,"board",(function(){return O})),t.d(n,"boardBox",(function(){return k}));var r=t.p+"e48feabdd563479eefc8591390c18d1c.png",c=t.p+"9cab050258aa5fc071d990ece6e66816.png",o=t.p+"0180c5827bceece87dc3abdae65482ef.png",d=t.p+"69534b953181e0c4d0335d4bee6364e7.png",s=t.p+"55c06d7782205f329641b3114d5db7e6.png",a=t.p+"de55e4cb5f4b5acf62ee872a3a5b0cca.png",l=t.p+"ae8822a6c7a3fe3d4bc456aac92e680b.png",p=t.p+"7eeecfe963b7301bfc8797e2532bd71b.png",f=t.p+"11f4961ce6da7780b8b871f4b2088514.png",u=t.p+"48a5392547eb9403d668d19c1dee23ea.png",b=t.p+"271e9073e2fb4ece87ef62715f2bdf9e.png",g=t.p+"4c3cc6fc5c61c9ac11a2c3476612ee82.png";function m(e,n,t,i,r,c){this.pieces={king:e,queen:n,bishop:t,knight:i,castle:r,pawn:c},this.piecesWon={}}const h=new m(r,c,o,d,s,a),M=new m(l,p,f,u,b,g);function T(e,n){const t=new Image;return t.src=n,Array.from(k)[e].appendChild(t)}function L(e,n){for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)if(e[t][i]===n)return{i:t,j:i}}function H(e){for(const n of Object.keys(h.pieces))return!!Object.values(h.pieces).includes(e)}function v(e,n,t,i,r,c,o){let d="",s="",a="",l="";void 0!==n[i+1][r+1]&&(d=n[i+1][r+1]),void 0!==n[i+1][r-1]&&(s=n[i+1][r-1]),void 0!==n[i-1][r+1]&&(a=n[i-1][r+1]),void 0!==n[i-1][r-1]&&(l=n[i-1][r-1]);let p="",f="",u="",b="";""!==d&&void 0!==t[d].childNodes[0]&&(p=t[d].childNodes[0].getAttribute("src")),""!==s&&void 0!==t[s].childNodes[0]&&(f=t[s].childNodes[0].getAttribute("src")),""!==a&&void 0!==t[a].childNodes[0]&&(u=t[a].childNodes[0].getAttribute("src")),""!==l&&void 0!==t[l].childNodes[0]&&(b=t[l].childNodes[0].getAttribute("src")),function(e,n,t,i,r,c,o,d,s,a,l,p,f){if(""!==a&&""!==l){if(!(H(c)&&H(o)||""===i[a].innerHTML&&""===i[l].innerHTML||i[r]!==i[a]&&i[r]!==i[l])){i[O[n][t]].innerHTML="",i[r].innerHTML="";let c=document.createElement("img");c.src=e,i[r].appendChild(c)}}else if(""!==a&&""===l){if(!H(c)&&""!==i[a].innerHTML&&i[r]===i[a]){i[O[n][t]].innerHTML="",i[r].innerHTML="";let c=document.createElement("img");c.src=e,i[r].appendChild(c)}}else if(""===a&&""!==l&&!H(o)&&""!==i[l].innerHTML&&i[r]===i[l]){i[O[n][t]].innerHTML="",i[r].innerHTML="";let c=document.createElement("img");c.src=e,i[r].appendChild(c)}if(""!==p&&""!==f){if((H(d)||H(s))&&(""!==i[p].innerHTML||""!==i[f].innerHTML)&&(i[r]===i[p]||i[r]===i[f])){i[O[n][t]].innerHTML="",i[r].innerHTML="";let c=document.createElement("img");c.src=e,i[r].appendChild(c)}}else if(""!==p&&""===f){if(H(d)&&""!==i[p].innerHTML&&i[r]===i[p]){i[O[n][t]].innerHTML="",i[r].innerHTML="";let c=document.createElement("img");c.src=e,i[r].appendChild(c)}}else if(""===p&&""!==f&&H(s)&&""!==i[f].innerHTML&&i[r]===i[f]){i[O[n][t]].innerHTML="",i[r].innerHTML="";let c=document.createElement("img");c.src=e,i[r].appendChild(c)}}(e,i,r,t,c,p,f,u,b,d,s,a,l)}function y(e,n,t,i,r,c){let o=i;for(;o<c&&e;)return o++,""===t[n[o][r]].innerHTML;for(;o>c&&!e;)return o--,""===t[n[o][r]].innerHTML}function j(e,n,t){let r=Array.from(k),c=function(e,n,t){let i="",r="";return e.map(c=>{c==n&&(i=e.indexOf(c)),c==t&&(r=e.indexOf(c))}),{currentIndex:i,targetIndex:r}}(r,n,t),o="";o="",o=function(e){for(const n of Object.keys(h.pieces))if(h.pieces[n]==e)return n;for(const n of Object.keys(M.pieces))if(M.pieces[n]==e)return n}(e),"castle"===o&&function(e,n,t,r,c){let o=L(O,t).i,d=L(O,t).j,s=L(O,r).i,a=L(O,r).j;if(H(e),d==a)for(let i=o;i<s;i++)if(""==n[O[i][a]].innerHTML&&(n[t].innerHTML="",""===n[t].innerHTML)){let t=document.createElement("img");t.src=e,n[r].appendChild(t)}if(o==s)for(let c=d;i<a;c++)if(""==n[O[o][c]].innerHTML&&(n[t].innerHTML="",""===n[t].innerHTML)){let t=document.createElement("img");t.src=e,n[r].appendChild(t)}}(e,r,c.currentIndex,c.targetIndex),"pawn"===o&&function(e,n,t,i,r){let c=L(O,t).i,o=L(O,t).j,d=L(O,i).i,s=L(O,i).j,a=!1;for(const n of Object.keys(h.pieces))Object.values(h.pieces).includes(e)&&(a=!0);if(a&&O[c+2]&&o===s&&O[d][o]<=O[c+2][o]){if(y(a,O,n,c,o,d)&&(n[t].innerHTML="",""===n[t].innerHTML)){let t=document.createElement("img");t.src=e,n[i].appendChild(t)}}else if(!a&&void 0!==O[c-2]&&o===s&&O[d][o]>=O[c-2][o]&&y(a,O,n,c,o,d)&&(n[t].innerHTML="",""===n[t].innerHTML)){let t=document.createElement("img");t.src=e,n[i].appendChild(t)}void 0!==O[d][s]&&v(e,O,n,c,o,i)}(e,r,c.currentIndex,c.targetIndex)}var k=document.getElementsByClassName("grid-item"),O=[[0,1,2,3,4,5,6,7],[8,9,10,11,12,13,14,15],[16,17,18,19,20,21,22,23],[24,25,26,27,28,29,30,31],[32,33,34,35,36,37,38,39],[40,41,42,43,44,45,46,47],[48,49,50,51,52,53,54,55],[56,57,58,59,60,61,62,63]];!function(){!function(){for(let e=0;e<O[1].length;e++)T(O[1][e],h.pieces.pawn);for(let e=0;e<O[6].length;e++)T(O[6][e],M.pieces.pawn);T(O[0][0],h.pieces.castle),T(O[0][1],h.pieces.knight),T(O[0][2],h.pieces.bishop),T(O[0][3],h.pieces.queen),T(O[0][4],h.pieces.king),T(O[0][5],h.pieces.bishop),T(O[0][6],h.pieces.knight),T(O[0][7],h.pieces.castle),T(O[7][0],M.pieces.castle),T(O[7][1],M.pieces.knight),T(O[7][2],M.pieces.bishop),T(O[7][3],M.pieces.queen),T(O[7][4],M.pieces.king),T(O[7][5],M.pieces.bishop),T(O[7][6],M.pieces.knight),T(O[7][7],M.pieces.castle)}();var e=Array.from(k),n="",t="",i="",r="white";e.forEach(e=>{e.addEventListener("click",e=>{void 0!==e.target.src&&""===t?(n=e.target.parentNode,H(t=e.target.getAttribute("src"))&&"white"===r||!H(t)&&"black"===r?(H(t="")&&(r="white"),H(t)&&(r="black")):(H(t)&&"black"===r||!H(t)&&"white"===r)&&(H(t)?r="white":H(t)||(r="black"))):void 0!==e.target.src&&""!==t&&(i=e.target.parentNode,j(t,n,i),t="",n="",i=""),void 0===e.target.src&&""!==t&&(i=e.target,j(t,n,i),t="",n="",i="")})})}()}]);